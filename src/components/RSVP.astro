---
import en from '../i18n/en.json';
import zh from '../i18n/zh.json';
---

<section class="section section-ivory" id="rsvp">
  <div class="container container-narrow">
    <header class="section-header" data-animate>
      <h2 class="section-title">
        <span data-lang-en>{en.rsvp.title}</span>
        <span data-lang-zh style="display: none;">{zh.rsvp.title}</span>
      </h2>
      <p class="section-subtitle">
        <span data-lang-en>{en.rsvp.subtitle}</span>
        <span data-lang-zh style="display: none;">{zh.rsvp.subtitle}</span>
      </p>
      <div class="divider">
        <span class="divider-icon">&#9993;</span>
      </div>
    </header>

    <form class="rsvp-form" data-animate>
      <!-- Name -->
      <div class="form-group">
        <label for="name">
          <span data-lang-en>{en.rsvp.form.name}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.name}</span>
        </label>
        <input
          type="text"
          id="name"
          name="name"
          required
        />
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">
          <span data-lang-en>{en.rsvp.form.email}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.email}</span>
        </label>
        <input
          type="email"
          id="email"
          name="email"
          placeholder={en.rsvp.form.emailPlaceholder}
          required
        />
      </div>

      <!-- Attending -->
      <div class="form-group">
        <label>
          <span data-lang-en>{en.rsvp.form.attending}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.attending}</span>
        </label>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="attending" value="yes" required />
            <span class="radio-custom"></span>
            <span data-lang-en>{en.rsvp.form.yes}</span>
            <span data-lang-zh style="display: none;">{zh.rsvp.form.yes}</span>
          </label>
          <label class="radio-label">
            <input type="radio" name="attending" value="no" />
            <span class="radio-custom"></span>
            <span data-lang-en>{en.rsvp.form.no}</span>
            <span data-lang-zh style="display: none;">{zh.rsvp.form.no}</span>
          </label>
        </div>
      </div>

      <!-- Number of Guests -->
      <div class="form-group form-group-half">
        <label for="guests">
          <span data-lang-en>{en.rsvp.form.guests}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.guests}</span>
        </label>
        <select id="guests" name="guests">
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
      </div>

      <!-- Meal Preference -->
      <div class="form-group form-group-half">
        <label for="meal">
          <span data-lang-en>{en.rsvp.form.meal}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.meal}</span>
        </label>
        <select id="meal" name="meal">
          {en.rsvp.form.mealOptions.map((option, index) => (
            <option value={option}>
              {option}
            </option>
          ))}
        </select>
      </div>

      <!-- Dietary Restrictions -->
      <div class="form-group">
        <label for="dietary">
          <span data-lang-en>{en.rsvp.form.dietary}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.dietary}</span>
        </label>
        <input
          type="text"
          id="dietary"
          name="dietary"
        />
      </div>

      <!-- Message -->
      <div class="form-group">
        <label for="message">
          <span data-lang-en>{en.rsvp.form.message}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.message}</span>
        </label>
        <textarea
          id="message"
          name="message"
          rows="4"
        ></textarea>
      </div>

      <!-- Submit -->
      <div class="form-submit">
        <button type="submit" class="btn btn-primary">
          <span data-lang-en>{en.rsvp.form.submit}</span>
          <span data-lang-zh style="display: none;">{zh.rsvp.form.submit}</span>
        </button>
      </div>
    </form>
  </div>
</section>

<style>
  .section-header {
    text-align: center;
    margin-bottom: var(--space-10);
  }

  .rsvp-form {
    background-color: var(--color-white);
    padding: var(--space-10);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-base);
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-6);
  }

  .form-group {
    grid-column: span 2;
  }

  .form-group-half {
    grid-column: span 1;
  }

  label {
    display: block;
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-charcoal);
    margin-bottom: var(--space-2);
  }

  input,
  select,
  textarea {
    width: 100%;
    font-family: var(--font-sans);
    font-size: var(--text-base);
    padding: var(--space-3) var(--space-4);
    border: 1px solid var(--color-gray-light);
    border-radius: var(--radius-sm);
    background-color: var(--color-white);
    color: var(--color-charcoal);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
  }

  input:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: var(--color-sage);
    box-shadow: 0 0 0 3px rgba(201, 169, 98, 0.15);
  }

  textarea {
    resize: vertical;
    min-height: 100px;
  }

  select {
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236B6B6B' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right var(--space-4) center;
    padding-right: var(--space-10);
  }

  .radio-group {
    display: flex;
    gap: var(--space-6);
  }

  .radio-label {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    cursor: pointer;
    font-weight: 400;
    margin-bottom: 0;
  }

  .radio-label input[type="radio"] {
    display: none;
  }

  .radio-custom {
    width: 20px;
    height: 20px;
    border: 2px solid var(--color-gray-light);
    border-radius: var(--radius-full);
    position: relative;
    transition: all var(--transition-fast);
  }

  .radio-label input[type="radio"]:checked + .radio-custom {
    border-color: var(--color-sage);
  }

  .radio-label input[type="radio"]:checked + .radio-custom::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 10px;
    height: 10px;
    background-color: var(--color-sage);
    border-radius: var(--radius-full);
  }

  .form-submit {
    grid-column: span 2;
    text-align: center;
    margin-top: var(--space-4);
  }

  .btn-primary {
    min-width: 200px;
    padding: var(--space-4) var(--space-10);
  }

  /* Responsive */
  @media (max-width: 600px) {
    .rsvp-form {
      padding: var(--space-6);
      grid-template-columns: 1fr;
    }

    .form-group,
    .form-group-half,
    .form-submit {
      grid-column: span 1;
    }

    .radio-group {
      flex-direction: column;
      gap: var(--space-3);
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.querySelector('.rsvp-form');

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      // This is UI only - no actual submission
      alert('Thank you for your RSVP! (This is a demo - form submission is not connected to a backend)');
    });
  });
</script>
